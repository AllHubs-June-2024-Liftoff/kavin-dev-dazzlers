<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org/">
<head th:replace="fragments :: head"></head>
<body class="container bg-1">
<nav th:replace="fragments :: header"></nav>

<form th:action="@{/review}" method="post">



    <div class="form-group">

            <input type="hidden" th:field="${userReview.movie}">
            <input type="hidden" th:field="${userReview.user}">

        <h3>What do you think?</h3>
        <img th:src="${userReview.movie.poster}" alt="poster">

        <div class="form-group">

            <br>
            <label th:text="${dispText}"></label>


        </div>

            <label>
                <textarea class="form-control"  th:field="${userReview.review_text}" maxlength="500" rows="10" cols="50" th:value="userReview.review_text"></textarea>
            </label>
            <p class="error" th:text="${errorMsg}"></p>
            <p class="error" th:errors ="${userReview.review_text}"></p>

    </div>

    <div class="form-group">
        <label>Rate: </label>


                <select th:field="${userReview.star_rating}">
                    <option th:each="i : ${#numbers.sequence(1, 5)}" th:value="${i}" th:text="${i}"
                            th:selected="${userReview.star_rating}"></option>
                </select>

    </div>

    <input type="submit" class="btn btn-success" value="Submit Review">


<!--    <a th:if="${deleteButton}" th:href="@{/delete_review(reviewId=${review.id})}"-->
<!--       th:data-confirm-delete="|Are you sure you want to delete review for: ${review.movie.name}?|"-->
<!--       onclick="return confirm(this.getAttribute('data-confirm-delete'))" style="color:red;">Delete</a>-->

             <button type="submit" th:if="${deleteButton}" th:formaction="@{/delete_review(reviewId=${review.id})}" method="post" class="btn btn-danger"
            onclick="return confirm('Are you sure you want to delete this review?')">Delete Review</button>


</form>

</body>
</html>